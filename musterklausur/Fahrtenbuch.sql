IF OBJECT_ID('dbo.[Trip]', 'U') IS NOT NULL DROP TABLE dbo.Trip; 
IF OBJECT_ID('dbo.[Reservation]', 'U') IS NOT NULL DROP TABLE dbo.Reservation; 
IF OBJECT_ID('dbo.[Vehicle]', 'U') IS NOT NULL DROP TABLE dbo.Vehicle; 
IF OBJECT_ID('dbo.[Employee]', 'U') IS NOT NULL DROP TABLE dbo.Employee; 

-- Der Mitarbeiter, der Fahrzeuge vergeben kann.
CREATE TABLE [Employee] (
  [ID]        UNIQUEIDENTIFIER  PRIMARY KEY DEFAULT NEWID(),
  [Firstname] NVARCHAR(50) NOT NULL,
  [Lastname]  NVARCHAR(50) NOT NULL,
  [SVNR]      NVARCHAR(10) NOT NULL,
);
GO

-- Beschreibt das Fahrzeug.
CREATE TABLE [Vehicle] (
  [ID]            UNIQUEIDENTIFIER        PRIMARY KEY DEFAULT NEWID(),
  [Type]          NVARCHAR(25) NOT NULL   DEFAULT ('PKW'),
  [Brand]         NVARCHAR(32) NOT NULL   DEFAULT ('no brand'),
  [Model]         NVARCHAR(25) NOT NULL   DEFAULT ('unknown'),
  [NumberPlate]   NVARCHAR(50) NOT NULL   UNIQUE,
  [SeatNr]        INT          NOT NULL,                    -- Anzahl der Plätze mit Fahrer.
  [Km]            DECIMAL(9,2) NOT NULL,                    -- Aktueller km Stand.
  [BasicPrice]    DECIMAL (8,4) NOT NULL,                   -- Grundpreis für die Vermietung.
  [IncludedKm]    INT           DEFAULT (0),                -- Km, die im Grundpreis enthalten sind.
  [PricePer100Km] DECIMAL (8,4),                            -- Preis pro angefangener 100km
  [PenaltyPerDay] DECIMAL (8,4)                             -- Wenn das Auto reserviert, aber verspätet
                                                            -- zurückgebracht wird, wird für jeden
															-- angefangenen Tag dieser Preis verrechnet.
);
GO

-- Über Internet können Kunden ein Auto reservieren. Dabei geben Sie an, von wann bis wann sie es
-- haben möchten. Im Geschäft wird diese Reservierung direkt vom Mitarbeiter an einem Terminal eingegeben.
CREATE TABLE [Reservation] (
  [ID]         UNIQUEIDENTIFIER PRIMARY KEY  DEFAULT NEWID(),
  [VehicleID]  UNIQUEIDENTIFIER NOT NULL,
  [EmployeeID] UNIQUEIDENTIFIER NOT NULL,
  [DateFrom]   DATETIME         NOT NULL,  -- Die Uhrzeit ist immer 0:00 UTC
  [DateTo]     DATETIME         NOT NULL,  -- Die Uhrzeit ist immer 0:00 UTC
  FOREIGN KEY ([VehicleID]) REFERENCES [Vehicle]([ID]),
  FOREIGN KEY ([EmployeeID]) REFERENCES [Employee]([ID]),
);
GO

-- Beim wirklichen Ausborgen wird ein Datensatz in Trip angelegt. Beim Zurückbringen wird dann in
-- den Feldern EndDate und KmEnd die aktuelle Information geschrieben.
CREATE TABLE [Trip] (
  [ID]         UNIQUEIDENTIFIER       PRIMARY KEY  DEFAULT NEWID(),
  [VehicleID]  UNIQUEIDENTIFIER NOT NULL,
  [EmployeeID] UNIQUEIDENTIFIER NOT NULL,
  [StartDate]  DATETIME NOT NULL,
  [EndDate]    DATETIME,
  [KmBegin]    DECIMAL(9,2) NOT NULL,
  [KmEnd]      DECIMAL(9,2),


  FOREIGN KEY ([VehicleID]) REFERENCES [Vehicle]([ID]),
  FOREIGN KEY ([EmployeeID]) REFERENCES [Employee]([ID])
);


insert into [Employee] ([ID], [Firstname], [Lastname], [SVNr]) values ('d492ac11-b7e3-4e28-ad9d-ee73c8bb20c3', 'Rebecca', 'Bell', '7524277298');
insert into [Employee] ([ID], [Firstname], [Lastname], [SVNr]) values ('cffdf728-5aee-4d7d-9edc-f530aa828870', 'Albert', 'Jordan', '1499593323');
insert into [Employee] ([ID], [Firstname], [Lastname], [SVNr]) values ('52499e6f-cd1a-464f-b3be-cf2e9178290d', 'Edward', 'Cook', '5986159118');

insert into [Vehicle] ([ID], [Type], [Brand], [Model], [NumberPlate], [SeatNr], [Km], [BasicPrice], [IncludedKm], [PricePer100Km], [PenaltyPerDay]) values ('aef59e14-6743-4c8b-b92f-6df80c0fe523', 'Kombi', 'VW', '730i', 'BN-779-UP', 7, 0, 80, 2000, 40, 200);
insert into [Vehicle] ([ID], [Type], [Brand], [Model], [NumberPlate], [SeatNr], [Km], [BasicPrice], [IncludedKm], [PricePer100Km], [PenaltyPerDay]) values ('89aebf0b-1dcd-4152-be06-3ddf76c3368f', 'Kombi', 'Mercedes', 'S200', 'BN-606-YG', 9, 0, 60, 2000, 40, 200);
insert into [Vehicle] ([ID], [Type], [Brand], [Model], [NumberPlate], [SeatNr], [Km], [BasicPrice], [IncludedKm], [PricePer100Km], [PenaltyPerDay]) values ('bfcdb0aa-3b59-407c-84d8-102d53a466da', 'Kombi', 'Mercedes', 'S100', 'BN-101-VM', 9, 0, 60, 2000, 40, 200);
insert into [Vehicle] ([ID], [Type], [Brand], [Model], [NumberPlate], [SeatNr], [Km], [BasicPrice], [IncludedKm], [PricePer100Km], [PenaltyPerDay]) values ('e978a05b-b537-4ae3-9a02-c70151db3c95', 'Kombi', 'BMW', 'S100', 'BN-015-ST', 7, 0, 60, 2000, 30, 200);
insert into [Vehicle] ([ID], [Type], [Brand], [Model], [NumberPlate], [SeatNr], [Km], [BasicPrice], [IncludedKm], [PricePer100Km], [PenaltyPerDay]) values ('bb3bb7f0-1450-467d-8c75-edcf0888327c', 'PKW', 'Mercedes', 'S100', 'BN-716-UK', 7, 0, 90, 2000, 20, 200);
insert into [Vehicle] ([ID], [Type], [Brand], [Model], [NumberPlate], [SeatNr], [Km], [BasicPrice], [IncludedKm], [PricePer100Km], [PenaltyPerDay]) values ('f8e5859c-0252-4eaf-94f0-2476987470c4', 'PKW', 'VW', '730i', 'BN-374-PO', 5, 0, 50, 1500, 20, 100);
insert into [Vehicle] ([ID], [Type], [Brand], [Model], [NumberPlate], [SeatNr], [Km], [BasicPrice], [IncludedKm], [PricePer100Km], [PenaltyPerDay]) values ('841dec07-75fc-4349-ae67-23900a38069b', 'Kombi', 'Mercedes', '730i', 'BN-568-LI', 7, 0, 50, 1500, 40, 100);
insert into [Vehicle] ([ID], [Type], [Brand], [Model], [NumberPlate], [SeatNr], [Km], [BasicPrice], [IncludedKm], [PricePer100Km], [PenaltyPerDay]) values ('608b8041-63f3-421d-b278-6bfe1132c89d', 'PKW', 'BMW', 'S200', 'BN-913-XY', 7, 0, 50, 1500, 40, 100);
insert into [Vehicle] ([ID], [Type], [Brand], [Model], [NumberPlate], [SeatNr], [Km], [BasicPrice], [IncludedKm], [PricePer100Km], [PenaltyPerDay]) values ('72ee7222-cea9-474f-b069-9e9708c52530', 'Kombi', 'VW', 'S200', 'BN-162-PU', 5, 0, 50, 1500, 20, 100);
insert into [Vehicle] ([ID], [Type], [Brand], [Model], [NumberPlate], [SeatNr], [Km], [BasicPrice], [IncludedKm], [PricePer100Km], [PenaltyPerDay]) values ('1682f07b-b23f-43f1-9a80-18588fcc4d6d', 'Kombi', 'VW', 'S200', 'BN-569-SV', 7, 0, 60, 1500, 40, 100);
INSERT INTO [Reservation] VALUES ('3c09068c-f714-43e4-9ebd-2a3b1721f036', '1682F07B-B23F-43F1-9A80-18588FCC4D6D', '52499E6F-CD1A-464F-B3BE-CF2E9178290D', '2014-08-23', '2014-08-28T10:00:00')
INSERT INTO [Reservation] VALUES ('2c661ef6-c522-48e7-9955-956deed49959', '1682F07B-B23F-43F1-9A80-18588FCC4D6D', '52499E6F-CD1A-464F-B3BE-CF2E9178290D', '2015-02-20', '2015-02-25T19:00:00')
INSERT INTO [Reservation] VALUES ('54eae7c7-f819-48e3-a5a6-4ce0781d0dd9', '1682F07B-B23F-43F1-9A80-18588FCC4D6D', '52499E6F-CD1A-464F-B3BE-CF2E9178290D', '2015-07-31', '2015-08-10T02:00:00')
INSERT INTO [Reservation] VALUES ('ab269c00-c56a-4b67-82b5-e42758c703c1', '1682F07B-B23F-43F1-9A80-18588FCC4D6D', '52499E6F-CD1A-464F-B3BE-CF2E9178290D', '2015-08-01', '2015-08-08T06:00:00')
INSERT INTO [Reservation] VALUES ('567e9800-8c71-49e8-a1c0-a6f50dba7266', '608B8041-63F3-421D-B278-6BFE1132C89D', 'D492AC11-B7E3-4E28-AD9D-EE73C8BB20C3', '2014-02-04', '2014-02-13T05:00:00')
INSERT INTO [Reservation] VALUES ('a9b86d1e-6c87-4782-9123-676ced1037cc', '608B8041-63F3-421D-B278-6BFE1132C89D', 'D492AC11-B7E3-4E28-AD9D-EE73C8BB20C3', '2014-05-17', '2014-05-25T06:00:00')
INSERT INTO [Reservation] VALUES ('cca67bef-971e-4212-85ad-079035dad0f6', '608B8041-63F3-421D-B278-6BFE1132C89D', 'CFFDF728-5AEE-4D7D-9EDC-F530AA828870', '2014-09-15', '2014-09-23T06:00:00')
INSERT INTO [Reservation] VALUES ('2a125acf-b6af-4f9d-a073-b5bb98efafcb', '608B8041-63F3-421D-B278-6BFE1132C89D', '52499E6F-CD1A-464F-B3BE-CF2E9178290D', '2014-09-27', '2014-10-02T21:00:00')
INSERT INTO [Reservation] VALUES ('cddded77-30d9-43fd-ba1e-5bda94e7f120', '608B8041-63F3-421D-B278-6BFE1132C89D', 'CFFDF728-5AEE-4D7D-9EDC-F530AA828870', '2014-11-15', '2014-11-25T20:00:00')
INSERT INTO [Reservation] VALUES ('36323c60-b7cf-4e51-a70d-5d183ea20692', '608B8041-63F3-421D-B278-6BFE1132C89D', 'CFFDF728-5AEE-4D7D-9EDC-F530AA828870', '2015-06-09', '2015-06-18T02:00:00')
INSERT INTO [Reservation] VALUES ('9b706564-f52d-4657-91be-10bb4f0ca0e2', '72EE7222-CEA9-474F-B069-9E9708C52530', '52499E6F-CD1A-464F-B3BE-CF2E9178290D', '2014-02-28', '2014-03-08T15:00:00')
INSERT INTO [Reservation] VALUES ('b5effb16-bbb9-4076-8f64-b8020b07ed29', '72EE7222-CEA9-474F-B069-9E9708C52530', '52499E6F-CD1A-464F-B3BE-CF2E9178290D', '2014-06-09', '2014-06-17T13:00:00')
INSERT INTO [Reservation] VALUES ('57da7419-573b-49ac-abe3-cebda0011e65', '72EE7222-CEA9-474F-B069-9E9708C52530', 'CFFDF728-5AEE-4D7D-9EDC-F530AA828870', '2014-12-01', '2014-12-09T00:00:00')
INSERT INTO [Reservation] VALUES ('d96f9a97-ba67-4222-813b-17b1e0494418', '72EE7222-CEA9-474F-B069-9E9708C52530', 'D492AC11-B7E3-4E28-AD9D-EE73C8BB20C3', '2015-05-04', '2015-05-13T08:00:00')
INSERT INTO [Reservation] VALUES ('d4b56a20-1540-46ca-85b8-fbc42ab50849', '841DEC07-75FC-4349-AE67-23900A38069B', 'CFFDF728-5AEE-4D7D-9EDC-F530AA828870', '2014-02-23', '2014-03-04T01:00:00')
INSERT INTO [Reservation] VALUES ('4f91e535-0b37-482a-b589-0ebf292f9808', '841DEC07-75FC-4349-AE67-23900A38069B', 'D492AC11-B7E3-4E28-AD9D-EE73C8BB20C3', '2014-09-16', '2014-09-24T21:00:00')
INSERT INTO [Reservation] VALUES ('9784a05c-dbb6-4dba-93a0-6770eb346f98', '841DEC07-75FC-4349-AE67-23900A38069B', '52499E6F-CD1A-464F-B3BE-CF2E9178290D', '2014-10-13', '2014-10-20T11:00:00')
INSERT INTO [Reservation] VALUES ('a85e1ade-48d1-470f-8a43-cd547306d228', '841DEC07-75FC-4349-AE67-23900A38069B', 'D492AC11-B7E3-4E28-AD9D-EE73C8BB20C3', '2014-10-20', '2014-10-27T11:00:00')
INSERT INTO [Reservation] VALUES ('ce93bd63-1561-4cfd-9130-db8f333adaa8', '841DEC07-75FC-4349-AE67-23900A38069B', 'CFFDF728-5AEE-4D7D-9EDC-F530AA828870', '2015-04-19', '2015-04-26T08:00:00')
INSERT INTO [Reservation] VALUES ('05953e02-e45e-48c9-89c5-a3ada49f4121', '841DEC07-75FC-4349-AE67-23900A38069B', '52499E6F-CD1A-464F-B3BE-CF2E9178290D', '2015-11-06', '2015-11-15T04:00:00')
INSERT INTO [Reservation] VALUES ('345fbc5e-bdb6-4220-b3aa-c8b96649ba45', '841DEC07-75FC-4349-AE67-23900A38069B', 'CFFDF728-5AEE-4D7D-9EDC-F530AA828870', '2015-11-08', '2015-11-17T09:00:00')
INSERT INTO [Reservation] VALUES ('f77dd161-e595-4687-b8cf-c439b743766f', '89AEBF0B-1DCD-4152-BE06-3DDF76C3368F', 'D492AC11-B7E3-4E28-AD9D-EE73C8BB20C3', '2014-03-04', '2014-03-14T00:00:00')
INSERT INTO [Reservation] VALUES ('3b5f8ea8-a97c-4138-ab97-ef9ce03610f0', '89AEBF0B-1DCD-4152-BE06-3DDF76C3368F', '52499E6F-CD1A-464F-B3BE-CF2E9178290D', '2014-07-30', '2014-08-06T06:00:00')
INSERT INTO [Reservation] VALUES ('8e007754-ff26-495f-bbe0-99b8b34720d7', '89AEBF0B-1DCD-4152-BE06-3DDF76C3368F', 'D492AC11-B7E3-4E28-AD9D-EE73C8BB20C3', '2015-05-02', '2015-05-06T21:00:00')
INSERT INTO [Reservation] VALUES ('8dfcf217-527c-4294-9b3e-483b2c4dacc2', '89AEBF0B-1DCD-4152-BE06-3DDF76C3368F', 'D492AC11-B7E3-4E28-AD9D-EE73C8BB20C3', '2015-07-05', '2015-07-11T11:00:00')
INSERT INTO [Reservation] VALUES ('ae833f53-d517-49fc-9846-3397ce6723fd', '89AEBF0B-1DCD-4152-BE06-3DDF76C3368F', '52499E6F-CD1A-464F-B3BE-CF2E9178290D', '2015-10-12', '2015-10-20T08:00:00')
INSERT INTO [Reservation] VALUES ('a8714395-3fe6-45aa-897c-44385066cfc4', 'AEF59E14-6743-4C8B-B92F-6DF80C0FE523', '52499E6F-CD1A-464F-B3BE-CF2E9178290D', '2014-04-16', '2014-04-22T20:00:00')
INSERT INTO [Reservation] VALUES ('35b5f7a5-f6c9-4b3c-b691-8df888407b3a', 'AEF59E14-6743-4C8B-B92F-6DF80C0FE523', '52499E6F-CD1A-464F-B3BE-CF2E9178290D', '2015-03-03', '2015-03-11T10:00:00')
INSERT INTO [Reservation] VALUES ('38cb7374-730b-43eb-99a0-27d2f5a4b85c', 'AEF59E14-6743-4C8B-B92F-6DF80C0FE523', 'CFFDF728-5AEE-4D7D-9EDC-F530AA828870', '2015-04-30', '2015-05-06T10:00:00')
INSERT INTO [Reservation] VALUES ('f81b8e7e-3837-4cf2-9f44-35e7a254b0f3', 'AEF59E14-6743-4C8B-B92F-6DF80C0FE523', '52499E6F-CD1A-464F-B3BE-CF2E9178290D', '2015-10-11', '2015-10-22T04:00:00')
INSERT INTO [Reservation] VALUES ('65cb8cee-1dd3-411c-99cc-4149a2f5ee52', 'BB3BB7F0-1450-467D-8C75-EDCF0888327C', 'CFFDF728-5AEE-4D7D-9EDC-F530AA828870', '2014-02-14', '2014-02-20T06:00:00')
INSERT INTO [Reservation] VALUES ('1fd8f05d-4845-4f22-8331-31792e00ad3c', 'BB3BB7F0-1450-467D-8C75-EDCF0888327C', '52499E6F-CD1A-464F-B3BE-CF2E9178290D', '2014-03-21', '2014-03-25T18:00:00')
INSERT INTO [Reservation] VALUES ('e88e1f64-82a7-408a-a0dc-b8d7e952eff1', 'BB3BB7F0-1450-467D-8C75-EDCF0888327C', 'CFFDF728-5AEE-4D7D-9EDC-F530AA828870', '2014-04-16', '2014-04-20T16:00:00')
INSERT INTO [Reservation] VALUES ('30444893-7e30-491f-b7fa-26f5c479bf27', 'BB3BB7F0-1450-467D-8C75-EDCF0888327C', '52499E6F-CD1A-464F-B3BE-CF2E9178290D', '2014-07-01', '2014-07-12T20:00:00')
INSERT INTO [Reservation] VALUES ('d9a78d18-f189-4d8f-8439-f60960b7c496', 'BB3BB7F0-1450-467D-8C75-EDCF0888327C', 'D492AC11-B7E3-4E28-AD9D-EE73C8BB20C3', '2014-07-05', '2014-07-11T15:00:00')
INSERT INTO [Reservation] VALUES ('51a29d3c-f286-4a4e-b751-91ea60fc4cfc', 'BB3BB7F0-1450-467D-8C75-EDCF0888327C', '52499E6F-CD1A-464F-B3BE-CF2E9178290D', '2014-08-13', '2014-08-24T02:00:00')
INSERT INTO [Reservation] VALUES ('a211dd4f-7bed-4673-9a3c-08c9a1ca8f7e', 'BB3BB7F0-1450-467D-8C75-EDCF0888327C', 'D492AC11-B7E3-4E28-AD9D-EE73C8BB20C3', '2014-12-14', '2014-12-21T08:00:00')
INSERT INTO [Reservation] VALUES ('3ba00532-c97c-4f1d-97b8-0e313dbf3b13', 'BB3BB7F0-1450-467D-8C75-EDCF0888327C', 'D492AC11-B7E3-4E28-AD9D-EE73C8BB20C3', '2015-06-25', '2015-07-01T00:00:00')
INSERT INTO [Reservation] VALUES ('03587a2a-63e8-4405-a171-4c0c09ab7278', 'BB3BB7F0-1450-467D-8C75-EDCF0888327C', '52499E6F-CD1A-464F-B3BE-CF2E9178290D', '2015-07-24', '2015-08-03T00:00:00')
INSERT INTO [Reservation] VALUES ('30ab12c0-827d-4f96-a107-bd6d5e3afc90', 'BFCDB0AA-3B59-407C-84D8-102D53A466DA', 'CFFDF728-5AEE-4D7D-9EDC-F530AA828870', '2014-05-19', '2014-05-28T00:00:00')
INSERT INTO [Reservation] VALUES ('7d1001e2-8f24-4418-a1c4-69d420214169', 'BFCDB0AA-3B59-407C-84D8-102D53A466DA', 'CFFDF728-5AEE-4D7D-9EDC-F530AA828870', '2014-10-17', '2014-10-21T06:00:00')
INSERT INTO [Reservation] VALUES ('6a3a9f78-aaeb-4075-b3a8-6bdef7bbe556', 'BFCDB0AA-3B59-407C-84D8-102D53A466DA', '52499E6F-CD1A-464F-B3BE-CF2E9178290D', '2014-11-18', '2014-11-24T01:00:00')
INSERT INTO [Reservation] VALUES ('de912404-4066-4043-bb20-7a7b8cb49e53', 'BFCDB0AA-3B59-407C-84D8-102D53A466DA', 'CFFDF728-5AEE-4D7D-9EDC-F530AA828870', '2014-12-14', '2014-12-20T00:00:00')
INSERT INTO [Reservation] VALUES ('214af8a7-43c5-4727-acdc-8b5507be4f42', 'BFCDB0AA-3B59-407C-84D8-102D53A466DA', 'D492AC11-B7E3-4E28-AD9D-EE73C8BB20C3', '2015-03-10', '2015-03-14T23:00:00')
INSERT INTO [Reservation] VALUES ('097fd209-8df1-4e26-8a8f-3391bbfdc93d', 'E978A05B-B537-4AE3-9A02-C70151DB3C95', 'CFFDF728-5AEE-4D7D-9EDC-F530AA828870', '2014-07-27', '2014-08-02T20:00:00')
INSERT INTO [Reservation] VALUES ('5279514d-b7db-4a90-b72b-ad716491c468', 'E978A05B-B537-4AE3-9A02-C70151DB3C95', 'D492AC11-B7E3-4E28-AD9D-EE73C8BB20C3', '2015-09-25', '2015-10-01T06:00:00')
INSERT INTO [Reservation] VALUES ('c144eec2-6cd9-43b2-af88-40fe597ef7d0', 'E978A05B-B537-4AE3-9A02-C70151DB3C95', 'CFFDF728-5AEE-4D7D-9EDC-F530AA828870', '2015-11-12', '2015-11-19T19:00:00')
INSERT INTO [Reservation] VALUES ('df375a9f-4b3d-4304-acd3-cdb1ee99d79c', 'F8E5859C-0252-4EAF-94F0-2476987470C4', 'CFFDF728-5AEE-4D7D-9EDC-F530AA828870', '2014-08-28', '2014-09-06T04:00:00')
INSERT INTO [Reservation] VALUES ('180e2124-51dc-4e0b-ab75-507d685e23ae', 'F8E5859C-0252-4EAF-94F0-2476987470C4', 'D492AC11-B7E3-4E28-AD9D-EE73C8BB20C3', '2014-12-16', '2014-12-26T09:00:00')
INSERT INTO [Reservation] VALUES ('5b37625a-d062-4a7c-8778-d5f979e96aa6', 'F8E5859C-0252-4EAF-94F0-2476987470C4', 'CFFDF728-5AEE-4D7D-9EDC-F530AA828870', '2015-06-21', '2015-06-30T08:00:00')

INSERT INTO [Trip] VALUES ('f954e58e-bae4-4472-a26d-13cddeb2b10b', '1682F07B-B23F-43F1-9A80-18588FCC4D6D', '52499E6F-CD1A-464F-B3BE-CF2E9178290D', '2014-08-23', '2014-08-30', 0,2900)
INSERT INTO [Trip] VALUES ('dc443532-7e65-46bf-9c87-76fe82e70f29', '1682F07B-B23F-43F1-9A80-18588FCC4D6D', '52499E6F-CD1A-464F-B3BE-CF2E9178290D', '2015-02-20', '2015-02-27', 2900,5310)
INSERT INTO [Trip] VALUES ('b1b2e9f7-f570-4cc4-8535-0dabe0a06db4', '1682F07B-B23F-43F1-9A80-18588FCC4D6D', '52499E6F-CD1A-464F-B3BE-CF2E9178290D', '2015-07-31', '2015-08-09', 5310,8580)
INSERT INTO [Trip] VALUES ('a3bcb98b-b743-4cd4-9c23-add9d30e4132', '1682F07B-B23F-43F1-9A80-18588FCC4D6D', '52499E6F-CD1A-464F-B3BE-CF2E9178290D', '2015-08-01', '2015-08-08', 8580,10560)
INSERT INTO [Trip] VALUES ('1afe4abf-6f04-4a7d-a2a1-87b33a95be82', '608B8041-63F3-421D-B278-6BFE1132C89D', 'D492AC11-B7E3-4E28-AD9D-EE73C8BB20C3', '2014-02-04', '2014-02-13', 0,3690)
INSERT INTO [Trip] VALUES ('02053b0f-2ccd-466f-8785-8636ff0075a5', '608B8041-63F3-421D-B278-6BFE1132C89D', 'D492AC11-B7E3-4E28-AD9D-EE73C8BB20C3', '2014-05-17', '2014-05-25', 3690,8380)
INSERT INTO [Trip] VALUES ('22265995-55ab-4ce0-b363-aeca23da172c', '608B8041-63F3-421D-B278-6BFE1132C89D', 'CFFDF728-5AEE-4D7D-9EDC-F530AA828870', '2014-09-15', '2014-09-25', 8380,10210)
INSERT INTO [Trip] VALUES ('405b2830-f0b0-41f7-983f-f48ddf9d59ef', '608B8041-63F3-421D-B278-6BFE1132C89D', '52499E6F-CD1A-464F-B3BE-CF2E9178290D', '2014-09-27', '2014-10-04', 10210,14470)
INSERT INTO [Trip] VALUES ('02cf5928-50bd-4f2f-bc94-3cc91723c1d1', '608B8041-63F3-421D-B278-6BFE1132C89D', 'CFFDF728-5AEE-4D7D-9EDC-F530AA828870', '2014-11-15', '2014-11-24', 14470,16170)
INSERT INTO [Trip] VALUES ('27a1c679-9655-486e-81e8-ca9be28b7bb6', '608B8041-63F3-421D-B278-6BFE1132C89D', 'CFFDF728-5AEE-4D7D-9EDC-F530AA828870', '2015-06-09', '2015-06-18', 16170,20990)
INSERT INTO [Trip] VALUES ('65c59bba-9fc3-4818-924b-59660f15e449', '72EE7222-CEA9-474F-B069-9E9708C52530', '52499E6F-CD1A-464F-B3BE-CF2E9178290D', '2014-02-28', '2014-03-08', 0,1980)
INSERT INTO [Trip] VALUES ('952af14c-995c-46d2-8005-090377e175ba', '72EE7222-CEA9-474F-B069-9E9708C52530', '52499E6F-CD1A-464F-B3BE-CF2E9178290D', '2014-06-09', '2014-06-19', 1980,4020)
INSERT INTO [Trip] VALUES ('5db9d3f2-3ccb-4462-b62a-9d1674037999', '72EE7222-CEA9-474F-B069-9E9708C52530', 'CFFDF728-5AEE-4D7D-9EDC-F530AA828870', '2014-12-01', '2014-12-11', 4020,6950)
INSERT INTO [Trip] VALUES ('23536cba-0e63-4589-a458-4dd390622769', '72EE7222-CEA9-474F-B069-9E9708C52530', 'D492AC11-B7E3-4E28-AD9D-EE73C8BB20C3', '2015-05-04', '2015-05-13', 6950,9110)
INSERT INTO [Trip] VALUES ('b33c823f-d8ce-48c8-b563-48fcdee1df70', '841DEC07-75FC-4349-AE67-23900A38069B', 'CFFDF728-5AEE-4D7D-9EDC-F530AA828870', '2014-02-23', '2014-03-04', 0,2010)
INSERT INTO [Trip] VALUES ('c09af472-7c08-43d6-9175-ee9e02705625', '841DEC07-75FC-4349-AE67-23900A38069B', 'D492AC11-B7E3-4E28-AD9D-EE73C8BB20C3', '2014-09-16', '2014-09-26', 2010,2430)
INSERT INTO [Trip] VALUES ('f0bdb3b5-7308-449d-9e41-9be7f48006c1', '841DEC07-75FC-4349-AE67-23900A38069B', '52499E6F-CD1A-464F-B3BE-CF2E9178290D', '2014-10-13', '2014-10-20', 2430,4910)
INSERT INTO [Trip] VALUES ('f36e7837-33a1-4062-aecf-c6b345fe6c7d', '841DEC07-75FC-4349-AE67-23900A38069B', 'D492AC11-B7E3-4E28-AD9D-EE73C8BB20C3', '2014-10-20', '2014-10-29', 4910,9060)
INSERT INTO [Trip] VALUES ('3b5c7cf9-e683-4a92-b088-c9269677aaf0', '841DEC07-75FC-4349-AE67-23900A38069B', 'CFFDF728-5AEE-4D7D-9EDC-F530AA828870', '2015-04-19', '2015-04-28', 9060,13170)
INSERT INTO [Trip] VALUES ('2e4f1850-1cc1-4e46-a981-9f648ad27d35', '841DEC07-75FC-4349-AE67-23900A38069B', '52499E6F-CD1A-464F-B3BE-CF2E9178290D', '2015-11-06', '2015-11-15', 13170,18140)
INSERT INTO [Trip] VALUES ('3d5c23ad-2cc6-4f97-8741-b98c9c7121ac', '841DEC07-75FC-4349-AE67-23900A38069B', 'CFFDF728-5AEE-4D7D-9EDC-F530AA828870', '2015-11-08', '2015-11-17', 18140,20870)
INSERT INTO [Trip] VALUES ('34cf7930-2769-4fee-9008-9922cd5678b1', '89AEBF0B-1DCD-4152-BE06-3DDF76C3368F', 'D492AC11-B7E3-4E28-AD9D-EE73C8BB20C3', '2014-03-04', '2014-03-13', 0,2780)
INSERT INTO [Trip] VALUES ('0195b439-b067-4af0-b727-78f96bb3d70a', '89AEBF0B-1DCD-4152-BE06-3DDF76C3368F', '52499E6F-CD1A-464F-B3BE-CF2E9178290D', '2014-07-30', '2014-08-08', 2780,3590)
INSERT INTO [Trip] VALUES ('75e29e97-2ee1-43b4-8b8b-61aad176bc5c', '89AEBF0B-1DCD-4152-BE06-3DDF76C3368F', 'D492AC11-B7E3-4E28-AD9D-EE73C8BB20C3', '2015-05-02', '2015-05-08', 3590,3900)
INSERT INTO [Trip] VALUES ('114ed661-02d2-4a01-b0cc-7d7996da90ef', '89AEBF0B-1DCD-4152-BE06-3DDF76C3368F', 'D492AC11-B7E3-4E28-AD9D-EE73C8BB20C3', '2015-07-05', '2015-07-13', 3900,5670)
INSERT INTO [Trip] VALUES ('973b3827-ab62-4e69-852c-3e5eafcf0388', '89AEBF0B-1DCD-4152-BE06-3DDF76C3368F', '52499E6F-CD1A-464F-B3BE-CF2E9178290D', '2015-10-12', '2015-10-20', 5670,6770)
INSERT INTO [Trip] VALUES ('96a579f3-7123-4d77-bb9d-86cc2aa0cd8c', 'AEF59E14-6743-4C8B-B92F-6DF80C0FE523', '52499E6F-CD1A-464F-B3BE-CF2E9178290D', '2014-04-16', '2014-04-22', 0,3940)
INSERT INTO [Trip] VALUES ('cc54a533-acc2-4c9c-8f9e-33242ac254f7', 'AEF59E14-6743-4C8B-B92F-6DF80C0FE523', '52499E6F-CD1A-464F-B3BE-CF2E9178290D', '2015-03-03', '2015-03-11', 3940,4050)
INSERT INTO [Trip] VALUES ('c90fa39a-cfc8-4e7e-a189-1b1b03a6dc66', 'AEF59E14-6743-4C8B-B92F-6DF80C0FE523', 'CFFDF728-5AEE-4D7D-9EDC-F530AA828870', '2015-04-30', '2015-05-08', 4050,4210)
INSERT INTO [Trip] VALUES ('77471732-b071-49ed-a012-02e0016b2f28', 'AEF59E14-6743-4C8B-B92F-6DF80C0FE523', '52499E6F-CD1A-464F-B3BE-CF2E9178290D', '2015-10-11', '2015-10-21', 4210,6380)
INSERT INTO [Trip] VALUES ('567bc5dd-aa3b-4199-a1aa-6bf2833e65bc', 'BB3BB7F0-1450-467D-8C75-EDCF0888327C', 'CFFDF728-5AEE-4D7D-9EDC-F530AA828870', '2014-02-14', '2014-02-22', 0,2090)
INSERT INTO [Trip] VALUES ('e1cb0136-d91c-4dec-902a-5eed9aeee502', 'BB3BB7F0-1450-467D-8C75-EDCF0888327C', '52499E6F-CD1A-464F-B3BE-CF2E9178290D', '2014-03-21', '2014-03-27', 2090,2960)
INSERT INTO [Trip] VALUES ('8b72d6ef-4eb5-4ac7-8611-f0df7d1fb6e5', 'BB3BB7F0-1450-467D-8C75-EDCF0888327C', 'CFFDF728-5AEE-4D7D-9EDC-F530AA828870', '2014-04-16', '2014-04-22', 2960,7400)
INSERT INTO [Trip] VALUES ('a9548c80-e901-4455-8e64-9cccb10a4864', 'BB3BB7F0-1450-467D-8C75-EDCF0888327C', '52499E6F-CD1A-464F-B3BE-CF2E9178290D', '2014-07-01', '2014-07-10', 7400,8610)
INSERT INTO [Trip] VALUES ('86ac6018-5860-427f-b380-1c90013af663', 'BB3BB7F0-1450-467D-8C75-EDCF0888327C', 'D492AC11-B7E3-4E28-AD9D-EE73C8BB20C3', '2014-07-05', '2014-07-13', 8610,12220)
INSERT INTO [Trip] VALUES ('075649d1-551a-423e-a98e-df858c647e31', 'BB3BB7F0-1450-467D-8C75-EDCF0888327C', '52499E6F-CD1A-464F-B3BE-CF2E9178290D', '2014-08-13', '2014-08-23', 12220,14600)
INSERT INTO [Trip] VALUES ('a5a79dc9-15eb-4066-a877-618d52b915eb', 'BB3BB7F0-1450-467D-8C75-EDCF0888327C', 'D492AC11-B7E3-4E28-AD9D-EE73C8BB20C3', '2014-12-14', '2014-12-20', 14600,16870)
INSERT INTO [Trip] VALUES ('83e6154f-9988-4491-a462-b37352216ba4', 'BB3BB7F0-1450-467D-8C75-EDCF0888327C', 'D492AC11-B7E3-4E28-AD9D-EE73C8BB20C3', '2015-06-25', '2015-07-01', 16870,20890)
INSERT INTO [Trip] VALUES ('0a6019d5-8365-40fb-b10f-f41cf22d39a4', 'BB3BB7F0-1450-467D-8C75-EDCF0888327C', '52499E6F-CD1A-464F-B3BE-CF2E9178290D', '2015-07-24', '2015-08-02', 20890,24960)
INSERT INTO [Trip] VALUES ('4292a4c6-e14e-4c2a-8781-84261d596ef3', 'BFCDB0AA-3B59-407C-84D8-102D53A466DA', 'CFFDF728-5AEE-4D7D-9EDC-F530AA828870', '2014-05-19', '2014-05-29', 0,3620)
INSERT INTO [Trip] VALUES ('d9ce9f12-2c2d-4cdd-978f-8741105a7010', 'BFCDB0AA-3B59-407C-84D8-102D53A466DA', 'CFFDF728-5AEE-4D7D-9EDC-F530AA828870', '2014-10-17', '2014-10-23', 3620,6910)
INSERT INTO [Trip] VALUES ('ca47c4af-cba3-4185-ba91-a907ae21b4d2', 'BFCDB0AA-3B59-407C-84D8-102D53A466DA', '52499E6F-CD1A-464F-B3BE-CF2E9178290D', '2014-11-18', '2014-11-24', 6910,7480)
INSERT INTO [Trip] VALUES ('4759de3b-b19c-4b25-9e0c-1fc262c0a65e', 'BFCDB0AA-3B59-407C-84D8-102D53A466DA', 'CFFDF728-5AEE-4D7D-9EDC-F530AA828870', '2014-12-14', '2014-12-22', 7480,11460)
INSERT INTO [Trip] VALUES ('c2e68d30-4379-459e-89e4-c1ef35b8c6e6', 'BFCDB0AA-3B59-407C-84D8-102D53A466DA', 'D492AC11-B7E3-4E28-AD9D-EE73C8BB20C3', '2015-03-10', '2015-03-16', 11460,14050)
INSERT INTO [Trip] VALUES ('0bedd8ee-e557-42db-a76c-2cb812e9fa0c', 'E978A05B-B537-4AE3-9A02-C70151DB3C95', 'CFFDF728-5AEE-4D7D-9EDC-F530AA828870', '2014-07-27', '2014-08-02', 0,120)
INSERT INTO [Trip] VALUES ('f2a5c7e0-4ddf-4e7d-9b0e-5bc764f6d7a3', 'E978A05B-B537-4AE3-9A02-C70151DB3C95', 'D492AC11-B7E3-4E28-AD9D-EE73C8BB20C3', '2015-09-25', '2015-10-01', 120,620)
INSERT INTO [Trip] VALUES ('eb7e8a25-8849-4bb0-a1ae-c564b6954279', 'E978A05B-B537-4AE3-9A02-C70151DB3C95', 'CFFDF728-5AEE-4D7D-9EDC-F530AA828870', '2015-11-12', '2015-11-19', 620,1440)
INSERT INTO [Trip] VALUES ('0f265162-c505-4e76-87db-19abf8ba3cda', 'F8E5859C-0252-4EAF-94F0-2476987470C4', 'CFFDF728-5AEE-4D7D-9EDC-F530AA828870', '2014-08-28', '2014-09-06', 0,810)
INSERT INTO [Trip] VALUES ('723300dd-efc9-4511-b9ba-9a99c5525153', 'F8E5859C-0252-4EAF-94F0-2476987470C4', 'D492AC11-B7E3-4E28-AD9D-EE73C8BB20C3', '2014-12-16', '2014-12-24', 810,5300)
INSERT INTO [Trip] VALUES ('fba08eb3-f702-4cf6-86fa-7f29f2c3d34f', 'F8E5859C-0252-4EAF-94F0-2476987470C4', 'CFFDF728-5AEE-4D7D-9EDC-F530AA828870', '2015-06-21', '2015-06-30', 5300,8880)

-- Den KM Stand berichtigen.
UPDATE Vehicle 
SET Km = KmStand
FROM (
	SELECT t.VehicleID, MAX(t.KmEnd) AS KmStand
	FROM Trip t
	GROUP BY t.VehicleID
) trips
WHERE ID = trips.VehicleID;
